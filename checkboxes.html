<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Галочки предпочтений</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
</head>
<body class="bg-dark">
    <div class="container">
        <h1 class="text-warning mt-5" style="margin-left: 30%;">Choose your destiny!</h1>
        <div class="form-check border border-warning mt-5" style="width: 400px; margin-left: 30%;">
            <div style="margin-left: 20px; margin-right: 20px; margin-top: 20px; margin-bottom: 20px;">
                <input class="form-check-input" type="checkbox" value="" id="Check1">
                <label class="form-check-label text-light h5 mb-3" for="Check1">Стать экспертом</label><br>
                <input class="form-check-input" type="checkbox" value="" id="Check2">
                <label class="form-check-label text-light h5 mb-3" for="Check2">Ждать идельный момент</label><br>
                <input class="form-check-input" type="checkbox" value="" id="Check3">
                <label class="form-check-label text-light h5 mb-3" for="Check3">Оставлять всё на потом</label><br>
                <input class="form-check-input" type="checkbox" value="" id="Check4">
                <label class="form-check-label text-light h5 mb-3" for="Check4">Действовать здесь и сейчас</label><br>
                <input class="form-check-input" type="checkbox" value="" id="Check5">
                <label class="form-check-label text-light h5 mb-3" for="Check5">Верить в то что когда-то всё измениться или изменитесь вы</label><br>
                <input class="form-check-input" type="checkbox" value="" id="Check6">
                <label class="form-check-label text-light h5" for="Check6">Понимать что если ничего не делать то и ничего не измениться</label><br>
            </div>
        </div>
        <button style="margin-left: 40%;" type="button" class="btn btn-success mt-5" id="saveBtn">Save</button>
        <button type="button" class="btn btn-danger mt-5 ml-3" id="clrBtn">Clear</button>
        <a class="btn btn-primary mt-5" href="index.html" role="button" style="margin-left: 42%;">Ваш город</a>
    </div>
    <script>
        const cookies = localStorage.getItem('check0');
        const checks = document.querySelectorAll('.form-check-input');
        const save_btn = document.querySelector('#saveBtn');
        const clr_btn = document.querySelector('#clrBtn');

        if(cookies){
            for(let i = 0; i < checks.length; i++){
                checks[i].checked = localStorage.getItem(`check${i}`)=="true"?true:false;
                checks[i].disabled = true;
            }
            save_btn.disabled = true;
        }
        else{
            for(let i = 0; i < checks.length; i++){
                localStorage.setItem(`check${i}`, "false")
            }
            clr_btn.disabled = true;
        }
        
        save_btn.onclick = () => {
            for(let i = 0; i < checks.length; i++){
                localStorage.setItem(`check${i}`, checks[i].checked);
                checks[i].disabled = true;
            }
            clr_btn.disabled = false;
            save_btn.disabled = true;
        }

        clr_btn.onclick = () => {
            for(let i = 0; i < checks.length; i++){
                localStorage.removeItem(`check${i}`)
                checks[i].checked = false;
                checks[i].disabled = false;
            }
            clr_btn.disabled = true;
            save_btn.disabled = false;
        }
    </script>
</body>
</html>